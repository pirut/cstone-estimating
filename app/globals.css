@import "@uploadthing/react/styles.css";

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 36 20% 97%;
    --foreground: 24 10% 8%;
    --card: 0 0% 100%;
    --card-foreground: 24 10% 10%;
    --popover: 0 0% 100%;
    --popover-foreground: 24 10% 10%;
    --primary: 24 12% 8%;
    --primary-foreground: 40 30% 96%;
    --secondary: 30 18% 91%;
    --secondary-foreground: 24 10% 16%;
    --accent: 37 48% 57%;
    --accent-foreground: 24 12% 12%;
    --muted: 32 16% 93%;
    --muted-foreground: 24 8% 40%;
    --destructive: 0 70% 46%;
    --destructive-foreground: 0 0% 98%;
    --border: 30 12% 82%;
    --input: 30 12% 82%;
    --ring: 37 48% 57%;
    --radius: 16px;
  }

  .dark {
    --background: 24 8% 8%;
    --foreground: 40 18% 96%;
    --card: 24 8% 10%;
    --card-foreground: 40 18% 96%;
    --popover: 24 8% 10%;
    --popover-foreground: 40 18% 96%;
    --primary: 40 18% 96%;
    --primary-foreground: 24 10% 8%;
    --secondary: 24 6% 18%;
    --secondary-foreground: 40 18% 96%;
    --accent: 38 44% 55%;
    --accent-foreground: 24 10% 8%;
    --muted: 24 6% 18%;
    --muted-foreground: 40 10% 70%;
    --destructive: 0 62% 35%;
    --destructive-foreground: 40 18% 96%;
    --border: 24 6% 20%;
    --input: 24 6% 20%;
    --ring: 38 44% 55%;
  }

  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground antialiased;
    background-image:
      radial-gradient(circle at 10% 16%, rgba(204, 170, 112, 0.17), transparent 48%),
      radial-gradient(circle at 86% 8%, rgba(20, 20, 20, 0.12), transparent 52%),
      radial-gradient(circle at 72% 92%, rgba(208, 179, 124, 0.16), transparent 45%),
      linear-gradient(140deg, rgba(255, 255, 255, 0.9), rgba(245, 238, 230, 0.92));
    background-attachment: fixed;
  }

  .dark body {
    background-image:
      radial-gradient(circle at 12% 16%, rgba(204, 170, 112, 0.14), transparent 48%),
      radial-gradient(circle at 84% 10%, rgba(222, 198, 155, 0.1), transparent 56%),
      radial-gradient(circle at 74% 92%, rgba(130, 95, 49, 0.2), transparent 45%),
      linear-gradient(140deg, rgba(20, 17, 14, 0.95), rgba(13, 11, 9, 0.96));
  }

  h1,
  h2,
  h3,
  h4 {
    @apply font-serif;
  }

  ::selection {
    background-color: hsl(var(--accent) / 0.35);
    color: hsl(var(--foreground));
  }
}

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }

  @keyframes batman-theme-sweep {
    0% {
      opacity: 0;
      -webkit-mask-size: 4vmax;
      mask-size: 4vmax;
    }
    12% {
      opacity: 1;
    }
    74% {
      opacity: 1;
    }
    100% {
      opacity: 0;
      -webkit-mask-size: 240vmax;
      mask-size: 240vmax;
    }
  }

  @keyframes circle-theme-sweep {
    0% {
      opacity: 0;
      clip-path: circle(0 at 50% 50%);
    }
    12% {
      opacity: 1;
    }
    78% {
      opacity: 1;
    }
    100% {
      opacity: 0;
      clip-path: circle(150vmax at 50% 50%);
    }
  }

  .theme-theme-transition {
    position: fixed;
    inset: 0;
    z-index: 2147483646;
    pointer-events: none;
    animation-timing-function: cubic-bezier(0.2, 0.72, 0.2, 1);
    animation-fill-mode: forwards;
    will-change: opacity;
  }

  .theme-bat-transition--dark {
    -webkit-mask-image: url("/svgwaves_io_batman.svg");
    mask-image: url("/svgwaves_io_batman.svg");
    -webkit-mask-repeat: no-repeat;
    mask-repeat: no-repeat;
    -webkit-mask-position: center center;
    mask-position: center center;
    -webkit-mask-size: 4vmax;
    mask-size: 4vmax;
    will-change: opacity, -webkit-mask-size, mask-size;
    animation-name: batman-theme-sweep;
    background-image:
      radial-gradient(circle at 12% 16%, rgba(204, 170, 112, 0.14), transparent 48%),
      radial-gradient(circle at 84% 10%, rgba(222, 198, 155, 0.1), transparent 56%),
      radial-gradient(circle at 74% 92%, rgba(130, 95, 49, 0.2), transparent 45%),
      linear-gradient(140deg, rgba(20, 17, 14, 0.95), rgba(13, 11, 9, 0.96));
  }

  .theme-circle-transition--light {
    animation-name: circle-theme-sweep;
    background-image:
      repeating-radial-gradient(
        circle at 50% 50%,
        rgba(255, 255, 255, 0.26) 0 14px,
        rgba(214, 187, 141, 0.2) 14px 28px
      ),
      radial-gradient(circle at 10% 16%, rgba(204, 170, 112, 0.17), transparent 48%),
      radial-gradient(circle at 86% 8%, rgba(20, 20, 20, 0.12), transparent 52%),
      radial-gradient(circle at 72% 92%, rgba(208, 179, 124, 0.16), transparent 45%),
      linear-gradient(140deg, rgba(255, 255, 255, 0.9), rgba(245, 238, 230, 0.92));
  }

  @media (prefers-reduced-motion: reduce) {
    .theme-theme-transition {
      display: none;
    }
  }
}
